<!DOCTYPE html>
<html>
<head>
    <title>Twitch Bot Auth</title>
    <style>
        body { font-family: Arial; text-align: center; margin-top: 50px; }
        button { padding: 15px 30px; font-size: 18px; background: #6441a5; color: white; border: none; cursor: pointer; }
        button:hover { background: #7d5bbe; }
    </style>
</head>
<body>
    <h2>üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Twitch –±–æ—Ç–∞</h2>
    <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ —á—Ç–æ–±—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞ –Ω–∞ –≤–∞—à–µ–º –∫–∞–Ω–∞–ª–µ</p>
    <button onclick="authTwitch()">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Twitch</button>
    
    <script>
        function authTwitch() {
            // Client ID –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ Netlify Environment Variable
            const clientId = "<%= process.env.TWITCH_CLIENT_ID %>"; // –ü–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ —Ç–∞–∫
            const redirectUri = window.location.origin + '/callback.html';
            const scopes = [
                'channel:read:redemptions',
                'channel:manage:redemptions', 
                'chat:read',
                'chat:edit',
                'channel:moderate',
                'whispers:read',
                'whispers:edit'
            ].join('+');
            
            const authUrl = `https://id.twitch.tv/oauth2/authorize?response_type=token&client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${scopes}`;
            window.location.href = authUrl;
        }
    </script>
</body>
</html>
